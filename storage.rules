rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Permite que qualquer pessoa leia ou escreva na pasta de relatórios de erro.
    // Isso resolve o problema de upload para usuários anônimos.
    // Para um ambiente de produção mais seguro, considere restringir o acesso
    // a usuários autenticados e validar o tipo e tamanho do arquivo.
    match /error_reports/{folder}/{allPaths=**} {
      allow write;
    }
  }
}
